@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import "tailwindcss";
@import "./styles/animations.css";
/* Tell Tailwind v4 where to scan for class usage */
@source "../index.html";
@source "./**/*.{js,ts,jsx,tsx}";

/* Phase 1: Design tokens and scales */
@theme {
  /* Brand primary (blue) */
  --color-primary-50:  #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;

  /* Accent (fuchsia) */
  --color-accent-50:  #fdf4ff;
  --color-accent-100: #fae8ff;
  --color-accent-200: #f5d0fe;
  --color-accent-300: #f0abfc;
  --color-accent-400: #e879f9;
  --color-accent-500: #d946ef;
  --color-accent-600: #c026d3;
  --color-accent-700: #a21caf;
  --color-accent-800: #86198f;
  --color-accent-900: #701a75;

  /* Info (sky) */
  --color-info-50:  #f0f9ff;
  --color-info-100: #e0f2fe;
  --color-info-200: #bae6fd;
  --color-info-300: #7dd3fc;
  --color-info-400: #38bdf8;
  --color-info-500: #0ea5e9;
  --color-info-600: #0284c7;
  --color-info-700: #0369a1;
  --color-info-800: #075985;
  --color-info-900: #0c4a6e;

  /* Success (emerald) */
  --color-success-50:  #ecfdf5;
  --color-success-100: #d1fae5;
  --color-success-200: #a7f3d0;
  --color-success-300: #6ee7b7;
  --color-success-400: #34d399;
  --color-success-500: #10b981;
  --color-success-600: #059669;
  --color-success-700: #047857;
  --color-success-800: #065f46;
  --color-success-900: #064e3b;

  /* Warning (amber) */
  --color-warning-50:  #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;

  /* Danger (rose) */
  --color-danger-50:  #fff1f2;
  --color-danger-100: #ffe4e6;
  --color-danger-200: #fecdd3;
  --color-danger-300: #fda4af;
  --color-danger-400: #fb7185;
  --color-danger-500: #f43f5e;
  --color-danger-600: #e11d48;
  --color-danger-700: #be123c;
  --color-danger-800: #9f1239;
  --color-danger-900: #881337;

  /* Radii scale */
  --radius-xs: 0.25rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;

  /* Shadows and elevations */
  --shadow-glass: 0 1px 2px 0 rgb(16 24 40 / 0.06), 0 10px 15px -3px rgb(16 24 40 / 0.1);

  /* Spacing tokens */
  --spacing-inner: 0.75rem;
  --spacing-outer: 1rem;

  /* Z-index tokens */
  --z-header: 30;
  --z-overlay: 50;
  --z-modal: 100;
  --z-toast: 150;

  /* Base surface tokens aligned to HSL variables (design-example) */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-border: hsl(var(--border));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  /* Missing tokens used by example design buttons */
  --color-ring: hsl(var(--ring));
  --color-input: hsl(var(--input));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
}

@layer base {
  :root {
    /* HSL design tokens for Tailwind v4 color functions */
    --background: 214 88% 97%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 215 25% 27%;
    --primary-foreground: 210 40% 98%;
    --secondary: 160 84% 39%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 215 25% 27%;
    --radius: 0.75rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }
  .dark {
    --background: 219 36% 16%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 215 25% 27%;
    --primary-foreground: 210 40% 98%;
    --secondary: 160 84% 39%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 215 25% 27%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  * {
    @apply border-border;
  }
  body {
    /* Align with design-example: utility-driven base */
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  /* Ensure pointer cursor on interactive native elements */
  button:not(:disabled):hover,
  a[href]:hover,
  [role="button"]:hover {
    cursor: pointer;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-colors duration-200;
  }
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }
  .btn-danger {
    @apply bg-danger-600 text-white hover:bg-danger-700 focus:ring-2 focus:ring-danger-500 focus:ring-offset-2;
  }
  /* Glassmorphism utilities */
  /* Deprecated: .glass-card replaced by .card to avoid Tailwind v4 @apply errors */
  /* .glass-card { ... } removed */
  /* .dark .glass-card { ... } removed */
  .header-glass,
  .glass-header {
    /* Header: remove radius; border only on bottom */
    @apply shadow-lg backdrop-blur-xl;
    background-color: rgba(255,255,255,0.8);
    border-bottom: 1px solid rgba(255,255,255,0.2);
    border-top: 0; border-left: 0; border-right: 0;
    border-radius: 0;
  }
  .dark .header-glass,
  .dark .glass-header {
    background-color: rgba(17, 24, 39, 0.8); /* ~gray-900/80 */
    border-bottom-color: rgba(55, 65, 81, 0.2);     /* ~gray-700/20 */
  }
  .sidebar-panel {
    /* Sidebar panel parity: softened surface, clear border, elevated */
    @apply bg-card text-card-foreground border border-border/60 shadow-md rounded-xl m-2 p-2;
  }
  /* Subtle right-edge shadow for fixed sidebar (lighter than header) */
  .sidebar-shadow {
    box-shadow: 10px 0 24px -18px rgba(16, 24, 40, 0.14);
  }
  html.dark .sidebar-shadow {
    box-shadow: 10px 0 24px -18px rgba(0, 0, 0, 0.35);
  }
  /* Sidebar glassmorphism per spec + subtle right border */
  .sidebar-glass {
    /* Sidebar: remove radius; border only on right */
    @apply shadow-md backdrop-blur-xl;
    background-color: rgba(255,255,255,0.8);
    border-right: 1px solid rgba(255,255,255,0.2);
    border-top: 0; border-left: 0; border-bottom: 0;
    border-radius: 0;
  }
  .dark .sidebar-glass {
    background-color: rgba(17, 24, 39, 0.8); /* ~gray-900/80 */
    border-right-color: rgba(55, 65, 81, 0.2);     /* ~gray-700/20 */
  }
  /* Removed legacy content-surface wrapper usage */
  .content-surface { @apply p-0; }
  .glass-menu {
    @apply bg-white/10 backdrop-blur-lg ring-1 ring-white/15 rounded-xl;
    box-shadow: var(--shadow-glass);
  }
  .dark .glass-menu {
    background-color: rgba(17, 24, 39, 0.3); /* ~gray-900/30 */
  }
  .input {
    /* Token-driven input; adapt to light/dark */
    @apply block w-full px-3 py-2 rounded-lg shadow-sm bg-background text-foreground placeholder:text-muted-foreground border border-input;
    @apply ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }
  .input::placeholder {
    @apply text-muted-foreground;
  }
  .card {
    /* Use same surface as .glass-card without @apply on custom class (Tailwind v4 limitation) */
    background-color: rgba(255,255,255,0.8);
    border: 1px solid rgba(255,255,255,0.2);
    @apply backdrop-blur-xl shadow-xl rounded-xl p-6;
  }
  .dark .card {
    background-color: rgba(17, 24, 39, 0.8); /* ~gray-900/80 */
    border-color: rgba(55, 65, 81, 0.2);     /* ~gray-700/20 */
  }

  /* Smooth custom scrollbar for overflow containers */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground)) transparent;
  }
  .custom-scrollbar::-webkit-scrollbar {
    height: 10px;
    width: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: color-mix(in hsl, hsl(var(--muted-foreground)) 40%, transparent);
    border-radius: 9999px;
    border: 2px solid transparent;
    background-clip: content-box;
  }
  .custom-scrollbar:hover::-webkit-scrollbar-thumb {
    background: color-mix(in hsl, hsl(var(--muted-foreground)) 60%, transparent);
    background-clip: content-box;
  }

  /* Public navbar link styles */
  .link {
    @apply text-sm text-muted-foreground hover:text-foreground transition-colors;
  }
  .link-active {
    @apply text-foreground font-semibold underline underline-offset-4;
  }
}

@layer utilities {
  /* Typography */
  .font-inter { font-family: 'Inter', sans-serif; }

  /* Glassmorphism utilities (aligned to web/design-example) */
  .glass { @apply bg-white/10 backdrop-blur-md border border-white/20; }
  .glass-dark { @apply bg-gray-900/10 backdrop-blur-md border border-gray-700/20; }
  .glass-card {
    @apply backdrop-blur-xl border shadow-xl rounded-xl;
    background-color: rgba(255, 255, 255, 0.8);
    border-color: rgba(255, 255, 255, 0.2);
  }
  .dark .glass-card {
    background-color: rgba(17, 24, 39, 0.8);
    border-color: rgba(55, 65, 81, 0.2);
  }

  /* Gradients */
  .gradient-primary {
    @apply bg-gradient-to-br from-slate-600 via-slate-700 to-slate-800;
  }
  
  .gradient-secondary {
    @apply bg-gradient-to-br from-teal-500 via-teal-600 to-teal-700;
  }
  
  .gradient-bg {
    @apply bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900;
  }

  /* Simple animations */
  .animate-float { animation: float 6s ease-in-out infinite; }
  .animate-glow { animation: glow 2s ease-in-out infinite alternate; }

  /* z-index utilities for layering */
  .z-header { z-index: var(--z-header); }
  .z-overlay { z-index: var(--z-overlay); }
  .z-modal { z-index: var(--z-modal); }
  .z-toast { z-index: var(--z-toast); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}
@keyframes glow {
  from { box-shadow: 0 0 20px rgba(20, 184, 166, 0.3); }
  to { box-shadow: 0 0 30px rgba(20, 184, 166, 0.6); }
}

/* Custom scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { @apply bg-gray-100; }
.dark ::-webkit-scrollbar-track { @apply bg-gray-800; }
::-webkit-scrollbar-thumb { @apply bg-gray-300 rounded-full; }
.dark ::-webkit-scrollbar-thumb { @apply bg-gray-600 rounded-full; }
::-webkit-scrollbar-thumb:hover { @apply bg-gray-400; }
.dark ::-webkit-scrollbar-thumb:hover { @apply bg-gray-500; }
