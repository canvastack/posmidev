[2025-09-23 16:14:43] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 16:14:43] local.ERROR: Dashboard#index error {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","message":"This action is unauthorized."} 
[2025-09-23 17:52:18] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 17:52:19] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 17:52:25] local.ERROR: SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles" inner join "users" on "users"."id" = "model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. (Connection: pgsql, SQL: select * from "roles" where "guard_name" = api and "id" in (select "role_id" from "model_has_roles" inner join "users" on "users"."id" = "model_has_roles"."model_uuid" where "model_has_roles"."model_type" = Src\Pms\Infrastructure\Models\User and "users"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42883): SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. (Connection: pgsql, SQL: select * from \"roles\" where \"guard_name\" = api and \"id\" in (select \"role_id\" from \"model_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_has_roles\".\"model_uuid\" where \"model_has_roles\".\"model_type\" = Src\\Pms\\Infrastructure\\Models\\User and \"users\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(32): Illuminate\\Database\\Eloquent\\Builder->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#49 {main}

[previous exception] [object] (PDOException(code: 42883): SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select * from \"...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(32): Illuminate\\Database\\Eloquent\\Builder->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#51 {main}
"} 
[2025-09-23 17:53:55] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 17:53:55] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 17:54:10] local.ERROR: SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles" inner join "users" on "users"."id" = "model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. (Connection: pgsql, SQL: select * from "roles" where "guard_name" = api and "id" in (select "role_id" from "model_has_roles" inner join "users" on "users"."id" = "model_has_roles"."model_uuid" where "model_has_roles"."model_type" = Src\Pms\Infrastructure\Models\User and "users"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42883): SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. (Connection: pgsql, SQL: select * from \"roles\" where \"guard_name\" = api and \"id\" in (select \"role_id\" from \"model_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_has_roles\".\"model_uuid\" where \"model_has_roles\".\"model_type\" = Src\\Pms\\Infrastructure\\Models\\User and \"users\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(32): Illuminate\\Database\\Eloquent\\Builder->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#49 {main}

[previous exception] [object] (PDOException(code: 42883): SQLSTATE[42883]: Undefined function: 7 ERROR:  operator does not exist: uuid = character varying
LINE 1: ...del_has_roles\" inner join \"users\" on \"users\".\"id\" = \"model_h...
                                                             ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select * from \"...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(32): Illuminate\\Database\\Eloquent\\Builder->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#51 {main}
"} 
[2025-09-23 18:23:41] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 18:23:41] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 18:25:58] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 18:25:58] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 18:26:43] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 18:26:43] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 19:58:50] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 19:58:50] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 21:47:41] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column "tenant_id" does not exist
LINE 1: ...elect * from "roles" where "guard_name" = $1 and ("tenant_id...
                                                             ^ (Connection: pgsql, SQL: select * from "roles" where "guard_name" = api and ("tenant_id" is null or "tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column \"tenant_id\" does not exist
LINE 1: ...elect * from \"roles\" where \"guard_name\" = $1 and (\"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select * from \"roles\" where \"guard_name\" = api and (\"tenant_id\" is null or \"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(27): Illuminate\\Database\\Eloquent\\Builder->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#49 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column \"tenant_id\" does not exist
LINE 1: ...elect * from \"roles\" where \"guard_name\" = $1 and (\"tenant_id...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select * from \"...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(27): Illuminate\\Database\\Eloquent\\Builder->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#51 {main}
"} 
[2025-09-23 22:36:02] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-23 22:36:02] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-23 22:36:16] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column "tenant_id" does not exist
LINE 1: ...elect * from "roles" where "guard_name" = $1 and ("tenant_id...
                                                             ^ (Connection: pgsql, SQL: select * from "roles" where "guard_name" = api and ("tenant_id" is null or "tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column \"tenant_id\" does not exist
LINE 1: ...elect * from \"roles\" where \"guard_name\" = $1 and (\"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select * from \"roles\" where \"guard_name\" = api and (\"tenant_id\" is null or \"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(27): Illuminate\\Database\\Eloquent\\Builder->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#49 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column \"tenant_id\" does not exist
LINE 1: ...elect * from \"roles\" where \"guard_name\" = $1 and (\"tenant_id...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select * from \"...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(27): Illuminate\\Database\\Eloquent\\Builder->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#51 {main}
"} 
[2025-09-23 22:36:42] local.ERROR: Target class [Database\\Seeders\\DatabaseSeeder] does not exist. {"exception":"[object] (Illuminate\\Contracts\\Container\\BindingResolutionException(code: 0): Target class [Database\\\\Seeders\\\\DatabaseSeeder] does not exist. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php:914)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(795): Illuminate\\Container\\Container->build('Database\\\\\\\\Seede...')
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(986): Illuminate\\Container\\Container->resolve('Database\\\\\\\\Seede...', Array, true)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(731): Illuminate\\Foundation\\Application->resolve('Database\\\\\\\\Seede...', Array)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(971): Illuminate\\Container\\Container->make('Database\\\\\\\\Seede...', Array)
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(98): Illuminate\\Foundation\\Application->make('Database\\\\\\\\Seede...')
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Console\\Seeds\\SeedCommand->getSeeder()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#20 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#21 {main}

[previous exception] [object] (ReflectionException(code: -1): Class \"Database\\\\Seeders\\\\DatabaseSeeder\" does not exist at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php:912)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(912): ReflectionClass->__construct('Database\\\\\\\\Seede...')
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(795): Illuminate\\Container\\Container->build('Database\\\\\\\\Seede...')
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(986): Illuminate\\Container\\Container->resolve('Database\\\\\\\\Seede...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(731): Illuminate\\Foundation\\Application->resolve('Database\\\\\\\\Seede...', Array)
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(971): Illuminate\\Container\\Container->make('Database\\\\\\\\Seede...', Array)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(98): Illuminate\\Foundation\\Application->make('Database\\\\\\\\Seede...')
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Console\\Seeds\\SeedCommand->getSeeder()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#21 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#22 {main}
"} 
[2025-09-24 05:44:03] local.ERROR: Target class [Database\\Seeders\\DatabaseSeeder] does not exist. {"exception":"[object] (Illuminate\\Contracts\\Container\\BindingResolutionException(code: 0): Target class [Database\\\\Seeders\\\\DatabaseSeeder] does not exist. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php:914)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(795): Illuminate\\Container\\Container->build('Database\\\\\\\\Seede...')
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(986): Illuminate\\Container\\Container->resolve('Database\\\\\\\\Seede...', Array, true)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(731): Illuminate\\Foundation\\Application->resolve('Database\\\\\\\\Seede...', Array)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(971): Illuminate\\Container\\Container->make('Database\\\\\\\\Seede...', Array)
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(98): Illuminate\\Foundation\\Application->make('Database\\\\\\\\Seede...')
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Console\\Seeds\\SeedCommand->getSeeder()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#20 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#21 {main}

[previous exception] [object] (ReflectionException(code: -1): Class \"Database\\\\Seeders\\\\DatabaseSeeder\" does not exist at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php:912)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(912): ReflectionClass->__construct('Database\\\\\\\\Seede...')
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(795): Illuminate\\Container\\Container->build('Database\\\\\\\\Seede...')
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(986): Illuminate\\Container\\Container->resolve('Database\\\\\\\\Seede...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(731): Illuminate\\Foundation\\Application->resolve('Database\\\\\\\\Seede...', Array)
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(971): Illuminate\\Container\\Container->make('Database\\\\\\\\Seede...', Array)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(98): Illuminate\\Foundation\\Application->make('Database\\\\\\\\Seede...')
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Console\\Seeds\\SeedCommand->getSeeder()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#21 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#22 {main}
"} 
[2025-09-24 14:14:37] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-24 14:14:38] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-24 17:20:33] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-24 17:20:34] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-24 19:05:26] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-24 19:05:27] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-24 19:14:27] local.ERROR: Disk [] does not have a configured driver. {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (InvalidArgumentException(code: 0): Disk [] does not have a configured driver. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php:137)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php(120): Illuminate\\Filesystem\\FilesystemManager->resolve(NULL)
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php(83): Illuminate\\Filesystem\\FilesystemManager->get(NULL)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\UploadedFile.php(94): Illuminate\\Filesystem\\FilesystemManager->disk(NULL)
#3 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\UserController.php(129): Illuminate\\Http\\UploadedFile->storeAs('public/tenants/...', 'user_68d443130f...')
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\UserController->uploadPhoto(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('uploadPhoto', Array)
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\UserController), 'uploadPhoto')
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#44 {main}
"} 
[2025-09-24 19:15:20] local.ERROR: Disk [] does not have a configured driver. {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (InvalidArgumentException(code: 0): Disk [] does not have a configured driver. at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php:137)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php(120): Illuminate\\Filesystem\\FilesystemManager->resolve(NULL)
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Filesystem\\FilesystemManager.php(83): Illuminate\\Filesystem\\FilesystemManager->get(NULL)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\UploadedFile.php(94): Illuminate\\Filesystem\\FilesystemManager->disk(NULL)
#3 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\UserController.php(129): Illuminate\\Http\\UploadedFile->storeAs('public/tenants/...', 'user_68d443481d...')
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\UserController->uploadPhoto(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('uploadPhoto', Array)
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\UserController), 'uploadPhoto')
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#44 {main}
"} 
[2025-09-24 21:53:50] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:01:33] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:06:11] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:06:37] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:11:16] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:11:21] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:18:44] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:18:52] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-24 22:18:52] local.ERROR: Dashboard#index error {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","message":"SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User)"} 
[2025-09-24 22:18:56] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-24 22:19:04] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... "roles"."id" = "model_has_roles"."role_id" where "model_has...
                                                             ^ (Connection: pgsql, SQL: select "roles".*, "model_has_roles"."model_uuid" as "pivot_model_uuid", "model_has_roles"."role_id" as "pivot_role_id", "model_has_roles"."model_type" as "pivot_model_type" from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."team_id" is null and ("roles"."team_id" is null or "roles"."team_id" is null) and "model_has_roles"."model_uuid" in (dd6e5d39-9592-4416-bd52-2174930720fd) and "model_has_roles"."model_type" = App\Models\User) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"roles\".*, \"model_has_roles\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_roles\".\"role_id\" as \"pivot_role_id\", \"model_has_roles\".\"model_type\" as \"pivot_model_type\" from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"team_id\" is null and (\"roles\".\"team_id\" is null or \"roles\".\"team_id\" is null) and \"model_has_roles\".\"model_uuid\" in (dd6e5d39-9592-4416-bd52-2174930720fd) and \"model_has_roles\".\"model_type\" = App\\Models\\User) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#17 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#64 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_roles.team_id does not exist
LINE 1: ... \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"roles\"....', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"roles\"....', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"roles\"....', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"roles\"....', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(166): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(787): Illuminate\\Database\\Eloquent\\Relations\\Relation->getEager()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(756): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelation(Array, 'roles', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(68): Illuminate\\Database\\Eloquent\\Builder->eagerLoadRelations(Array)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(237): Illuminate\\Database\\Eloquent\\Collection->load(Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Collection.php(214): Illuminate\\Database\\Eloquent\\Collection->loadMissingRelation(Object(Illuminate\\Database\\Eloquent\\Collection), Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(740): Illuminate\\Database\\Eloquent\\Collection->loadMissing(Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(188): Illuminate\\Database\\Eloquent\\Model->loadMissing(Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(235): Src\\Pms\\Infrastructure\\Models\\User->hasRole(Array)
#19 D:\\worksites\\canvastack\\posmidev\\app\\Providers\\AuthServiceProvider.php(35): Src\\Pms\\Infrastructure\\Models\\User->hasAnyRole(Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#25 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#64 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#66 {main}
"} 
[2025-09-25 07:59:10] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 07:59:11] local.ERROR: Dashboard#index error {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","message":"SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)"} 
[2025-09-25 08:00:00] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:00:14] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:00:20] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:01:59] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" is null) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" is null) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('tenants.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\TenantPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\TenantPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\TenantPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#73 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('tenants.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\TenantPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\TenantPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\TenantPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}
"} 
[2025-09-25 08:02:04] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:02:05] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:50:22] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 08:50:24] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 09:11:11] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\RolePolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\RolePolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\RolePolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'App\\\\Models\\\\Role', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 09:11:12] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('roles.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'roles.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('roles.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('roles.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('roles.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('roles.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\PermissionPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('roles.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\PermissionPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\PermissionPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Spatie\\\\Permissi...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 09:11:31] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" is null) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" is null) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('tenants.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\TenantPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\TenantPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\TenantPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#73 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('tenants.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\TenantPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\TenantPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\TenantPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}
"} 
[2025-09-25 09:11:44] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 09:11:55] local.ERROR: SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and "model_has_permissions"."model_type" = $2 and "model_has...
                                                             ^ (Connection: pgsql, SQL: select "permissions".*, "model_has_permissions"."model_uuid" as "pivot_model_uuid", "model_has_permissions"."permission_id" as "pivot_permission_id", "model_has_permissions"."model_type" as "pivot_model_type" from "permissions" inner join "model_has_permissions" on "permissions"."id" = "model_has_permissions"."permission_id" where "model_has_permissions"."model_uuid" = dd6e5d39-9592-4416-bd52-2174930720fd and "model_has_permissions"."model_type" = App\Models\User and "model_has_permissions"."tenant_id" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) {"userId":"dd6e5d39-9592-4416-bd52-2174930720fd","exception":"[object] (Illuminate\\Database\\QueryException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#24 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#34 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#75 {main}

[previous exception] [object] (PDOException(code: 42703): SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select \"permiss...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select \"permiss...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select \"permiss...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select \"permiss...', Array, true)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(874): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany.php(853): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->get()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(591): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->getResults()
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(529): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('permissions')
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\HasAttributes.php(454): Illuminate\\Database\\Eloquent\\Model->getRelationValue('permissions')
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2227): Illuminate\\Database\\Eloquent\\Model->getAttribute('permissions')
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(305): Illuminate\\Database\\Eloquent\\Model->__get('permissions')
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(193): Src\\Pms\\Infrastructure\\Models\\User->hasDirectPermission(Object(Spatie\\Permission\\Models\\Permission))
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasPermissions.php(244): Src\\Pms\\Infrastructure\\Models\\User->hasPermissionTo(Object(Spatie\\Permission\\Models\\Permission), NULL)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\spatie\\laravel-permission\\src\\PermissionRegistrar.php(136): Src\\Pms\\Infrastructure\\Models\\User->checkPermissionTo('products.view')
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): Spatie\\Permission\\PermissionRegistrar->Spatie\\Permission\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'products.view', Array)
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('products.view', Array)
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('products.view', Array)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('products.view', 0)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('products.view', Array)
#26 D:\\worksites\\canvastack\\posmidev\\app\\Policies\\ProductPolicy.php(11): Illuminate\\Foundation\\Auth\\User->can('products.view')
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(811): App\\Policies\\ProductPolicy->viewAny(Object(Src\\Pms\\Infrastructure\\Models\\User), '80f62207-c9a0-4...')
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(764): Illuminate\\Auth\\Access\\Gate->callPolicyMethod(Object(App\\Policies\\ProductPolicy), 'viewAny', Object(Src\\Pms\\Infrastructure\\Models\\User), Array)
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(548): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'Src\\\\Pms\\\\Infrast...', '80f62207-c9a0-4...')
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(443): Illuminate\\Auth\\Access\\Gate->callAuthCallback(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#32 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#33 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#34 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#35 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '80f62207-c9a0-4...')
#36 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#37 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#38 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#39 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#40 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\canvastack\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#47 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#48 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#49 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#51 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#55 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#58 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#66 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#67 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#68 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#69 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#70 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#71 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#72 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#73 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#74 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#75 D:\\worksites\\canvastack\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#76 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\ca...')
#77 {main}
"} 
[2025-09-25 09:12:00] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 09:12:00] local.ERROR: Dashboard#index error {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","message":"SQLSTATE[42703]: Undefined column: 7 ERROR:  column model_has_permissions.tenant_id does not exist
LINE 1: ...and \"model_has_permissions\".\"model_type\" = $2 and \"model_has...
                                                             ^ (Connection: pgsql, SQL: select \"permissions\".*, \"model_has_permissions\".\"model_uuid\" as \"pivot_model_uuid\", \"model_has_permissions\".\"permission_id\" as \"pivot_permission_id\", \"model_has_permissions\".\"model_type\" as \"pivot_model_type\" from \"permissions\" inner join \"model_has_permissions\" on \"permissions\".\"id\" = \"model_has_permissions\".\"permission_id\" where \"model_has_permissions\".\"model_uuid\" = dd6e5d39-9592-4416-bd52-2174930720fd and \"model_has_permissions\".\"model_type\" = App\\Models\\User and \"model_has_permissions\".\"tenant_id\" = 80f62207-c9a0-4e2f-af7f-755aee0c9605)"} 
[2025-09-25 09:32:04] local.ERROR: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: ""
LINE 6:        AND (m.tenant_id IS NULL OR m.tenant_id = '')
                                                         ^ (Connection: pgsql, SQL:     UPDATE model_has_roles m
       SET tenant_id = u.tenant_id
      FROM users u
     WHERE m.model_type = 'Src\Pms\Infrastructure\Models\User'
       AND m.model_uuid = u.id::text
       AND (m.tenant_id IS NULL OR m.tenant_id = '')) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 22P02): SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: \"\"
LINE 6:        AND (m.tenant_id IS NULL OR m.tenant_id = '')
                                                         ^ (Connection: pgsql, SQL:     UPDATE model_has_roles m

       SET tenant_id = u.tenant_id

      FROM users u

     WHERE m.model_type = 'Src\\Pms\\Infrastructure\\Models\\User'

       AND m.model_uuid = u.id::text

       AND (m.tenant_id IS NULL OR m.tenant_id = '')) at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#4 D:\\worksites\\canvastack\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#6 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\ca...', 8, false)
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\MigrateCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#30 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#31 {main}

[previous exception] [object] (PDOException(code: 22P02): SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: \"\"
LINE 6:        AND (m.tenant_id IS NULL OR m.tenant_id = '')
                                                         ^ at D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('    UPDATE mode...', Array)
#2 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#3 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#4 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#5 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#6 D:\\worksites\\canvastack\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#7 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\ca...', 8, false)
#16 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#29 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\MigrateCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#30 D:\\worksites\\canvastack\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#31 D:\\worksites\\canvastack\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#32 D:\\worksites\\canvastack\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#33 {main}
"} 
[2025-09-25 10:47:51] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 10:47:52] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-25 14:54:09] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 14:54:10] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-25 17:39:34] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 17:39:34] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-25 17:44:59] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 17:44:59] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-25 18:20:47] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 18:20:47] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-25 18:34:31] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-25 18:34:31] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-26 16:11:05] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-26 16:11:05] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-26 16:34:18] local.ERROR: SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: "your-stable-uuid"
CONTEXT:  unnamed portal parameter $1 = '...' (Connection: pgsql, SQL: select * from "tenants" where ("id" = your-stable-uuid) limit 1) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 22P02): SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: \"your-stable-uuid\"
CONTEXT:  unnamed portal parameter $1 = '...' (Connection: pgsql, SQL: select * from \"tenants\" where (\"id\" = your-stable-uuid) limit 1) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get(Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(568): Illuminate\\Database\\Eloquent\\Builder->first()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->firstOrCreate(Array, Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2335): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'firstOrCreate', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2347): Illuminate\\Database\\Eloquent\\Model->__call('firstOrCreate', Array)
#13 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(24): Illuminate\\Database\\Eloquent\\Model::__callStatic('firstOrCreate', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#17 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#34 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 {main}

[previous exception] [object] (PDOException(code: 22P02): SQLSTATE[22P02]: Invalid text representation: 7 ERROR:  invalid input syntax for type uuid: \"your-stable-uuid\"
CONTEXT:  unnamed portal parameter $1 = '...' at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select * from \"...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select * from \"...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select * from \"...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2913): Illuminate\\Database\\Connection->select('select * from \"...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2902): Illuminate\\Database\\Query\\Builder->runSelect()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3456): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(2901): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(739): Illuminate\\Database\\Query\\Builder->get(Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\BuildsQueries.php(333): Illuminate\\Database\\Eloquent\\Builder->get(Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(568): Illuminate\\Database\\Eloquent\\Builder->first()
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->firstOrCreate(Array, Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2335): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'firstOrCreate', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2347): Illuminate\\Database\\Eloquent\\Model->__call('firstOrCreate', Array)
#15 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(24): Illuminate\\Database\\Eloquent\\Model::__callStatic('firstOrCreate', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#19 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#36 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 {main}
"} 
[2025-09-26 17:25:53] local.ERROR: SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint "users_email_unique"
DETAIL:  Key (email)=(cparisian@example.com) already exists. (Connection: pgsql, SQL: insert into "users" ("id", "tenant_id", "name", "email", "username", "display_name", "password", "updated_at", "created_at") values (2714082c-34ed-4628-847e-596d245c3b48, 1db7a31e-2d43-448d-b84c-088cf4a5e2d2, Miss Jaclyn Heller, cparisian@example.com, lorna_csr_179, Cashier, $2y$12$6RmxHJ2RDZfEKpeFU0fmoevZIbyAeI1CSxOhRcCFW9AqLg1zG2tsW, 2025-09-26 17:25:53, 2025-09-26 17:25:53)) {"exception":"[object] (Illuminate\\Database\\UniqueConstraintViolationException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"users_email_unique\"
DETAIL:  Key (email)=(cparisian@example.com) already exists. (Connection: pgsql, SQL: insert into \"users\" (\"id\", \"tenant_id\", \"name\", \"email\", \"username\", \"display_name\", \"password\", \"updated_at\", \"created_at\") values (2714082c-34ed-4628-847e-596d245c3b48, 1db7a31e-2d43-448d-b84c-088cf4a5e2d2, Miss Jaclyn Heller, cparisian@example.com, lorna_csr_179, Cashier, $2y$12$6RmxHJ2RDZfEKpeFU0fmoevZIbyAeI1CSxOhRcCFW9AqLg1zG2tsW, 2025-09-26 17:25:53, 2025-09-26 17:25:53)) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:824)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('insert into \"us...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('insert into \"us...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(540): Illuminate\\Database\\Connection->statement('insert into \"us...', Array)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3498): Illuminate\\Database\\Connection->insert('insert into \"us...', Array)
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->insert(Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1310): Illuminate\\Database\\Eloquent\\Builder->__call('insert', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1138): Illuminate\\Database\\Eloquent\\Model->performInsert(Object(Illuminate\\Database\\Eloquent\\Builder))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1025): Illuminate\\Database\\Eloquent\\Model->save()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\helpers.php(320): Illuminate\\Database\\Eloquent\\Builder->Illuminate\\Database\\Eloquent\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1024): tap(Object(Src\\Pms\\Infrastructure\\Models\\User), Object(Closure))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->create(Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2335): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'create', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2347): Illuminate\\Database\\Eloquent\\Model->__call('create', Array)
#13 D:\\worksites\\posmidev\\database\\seeders\\MultiTenantDemoSeeder.php(134): Illuminate\\Database\\Eloquent\\Model::__callStatic('create', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\MultiTenantDemoSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#17 D:\\worksites\\posmidev\\database\\seeders\\MultiTenantDemoSeeder.php(87): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\MultiTenantDemoSeeder->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#34 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 {main}

[previous exception] [object] (PDOException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"users_email_unique\"
DETAIL:  Key (email)=(cparisian@example.com) already exists. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('insert into \"us...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('insert into \"us...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('insert into \"us...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(540): Illuminate\\Database\\Connection->statement('insert into \"us...', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3498): Illuminate\\Database\\Connection->insert('insert into \"us...', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->insert(Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1310): Illuminate\\Database\\Eloquent\\Builder->__call('insert', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1138): Illuminate\\Database\\Eloquent\\Model->performInsert(Object(Illuminate\\Database\\Eloquent\\Builder))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1025): Illuminate\\Database\\Eloquent\\Model->save()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\helpers.php(320): Illuminate\\Database\\Eloquent\\Builder->Illuminate\\Database\\Eloquent\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1024): tap(Object(Src\\Pms\\Infrastructure\\Models\\User), Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->create(Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2335): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'create', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(2347): Illuminate\\Database\\Eloquent\\Model->__call('create', Array)
#15 D:\\worksites\\posmidev\\database\\seeders\\MultiTenantDemoSeeder.php(134): Illuminate\\Database\\Eloquent\\Model::__callStatic('create', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\MultiTenantDemoSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#19 D:\\worksites\\posmidev\\database\\seeders\\MultiTenantDemoSeeder.php(87): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\MultiTenantDemoSeeder->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#36 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 {main}
"} 
[2025-09-26 17:40:22] local.ERROR: SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint "users_tenant_id_username_unique"
DETAIL:  Key (tenant_id, username)=(11111111-1111-1111-1111-111111111111, canvastack) already exists. (Connection: pgsql, SQL: update "users" set "tenant_id" = 11111111-1111-1111-1111-111111111111, "updated_at" = 2025-09-26 17:40:22 where "id" = dd6e5d39-9592-4416-bd52-2174930720fd) {"exception":"[object] (Illuminate\\Database\\UniqueConstraintViolationException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"users_tenant_id_username_unique\"
DETAIL:  Key (tenant_id, username)=(11111111-1111-1111-1111-111111111111, canvastack) already exists. (Connection: pgsql, SQL: update \"users\" set \"tenant_id\" = 11111111-1111-1111-1111-111111111111, \"updated_at\" = 2025-09-26 17:40:22 where \"id\" = dd6e5d39-9592-4416-bd52-2174930720fd) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:824)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('update \"users\" ...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(600): Illuminate\\Database\\Connection->run('update \"users\" ...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(552): Illuminate\\Database\\Connection->affectingStatement('update \"users\" ...', Array)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3602): Illuminate\\Database\\Connection->update('update \"users\" ...', Array)
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1061): Illuminate\\Database\\Query\\Builder->update(Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1214): Illuminate\\Database\\Eloquent\\Builder->update(Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1131): Illuminate\\Database\\Eloquent\\Model->performUpdate(Object(Illuminate\\Database\\Eloquent\\Builder))
#7 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(89): Illuminate\\Database\\Eloquent\\Model->save()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#11 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#28 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#31 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#32 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#34 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#35 {main}

[previous exception] [object] (PDOException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"users_tenant_id_username_unique\"
DETAIL:  Key (tenant_id, username)=(11111111-1111-1111-1111-111111111111, canvastack) already exists. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:612)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(612): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('update \"users\" ...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('update \"users\" ...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(600): Illuminate\\Database\\Connection->run('update \"users\" ...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(552): Illuminate\\Database\\Connection->affectingStatement('update \"users\" ...', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3602): Illuminate\\Database\\Connection->update('update \"users\" ...', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1061): Illuminate\\Database\\Query\\Builder->update(Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1214): Illuminate\\Database\\Eloquent\\Builder->update(Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Model.php(1131): Illuminate\\Database\\Eloquent\\Model->performUpdate(Object(Illuminate\\Database\\Eloquent\\Builder))
#9 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(89): Illuminate\\Database\\Eloquent\\Model->save()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#13 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#30 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#33 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#34 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#36 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#37 {main}
"} 
[2025-09-26 17:45:21] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-26 17:45:22] local.WARNING: Dashboard#index unauthorized {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","message":"This action is unauthorized."} 
[2025-09-26 17:52:04] local.INFO: Dashboard#index start {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-26 17:52:05] local.INFO: Dashboard#index success {"tenantId":"80f62207-c9a0-4e2f-af7f-755aee0c9605"} 
[2025-09-26 17:55:05] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"dd6e5d39-9592-4416-bd52-2174930720fd"} 
[2025-09-26 17:55:05] local.WARNING: Dashboard#index unauthorized {"tenantId":"11111111-1111-1111-1111-111111111111","message":"This action is unauthorized."} 
[2025-09-26 18:05:42] local.ERROR: SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint "model_has_roles_pkey"
DETAIL:  Key (role_id, model_uuid, model_type)=(11, dd6e5d39-9592-4416-bd52-2174930720fd, App\Models\User) already exists. (Connection: pgsql, SQL: insert into "model_has_roles" ("model_type", "model_uuid", "role_id", "tenant_id") values (App\Models\User, dd6e5d39-9592-4416-bd52-2174930720fd, 11, 11111111-1111-1111-1111-111111111111)) {"exception":"[object] (Illuminate\\Database\\UniqueConstraintViolationException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"model_has_roles_pkey\"
DETAIL:  Key (role_id, model_uuid, model_type)=(11, dd6e5d39-9592-4416-bd52-2174930720fd, App\\Models\\User) already exists. (Connection: pgsql, SQL: insert into \"model_has_roles\" (\"model_type\", \"model_uuid\", \"role_id\", \"tenant_id\") values (App\\Models\\User, dd6e5d39-9592-4416-bd52-2174930720fd, 11, 11111111-1111-1111-1111-111111111111)) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:824)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('insert into \"mo...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('insert into \"mo...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(540): Illuminate\\Database\\Connection->statement('insert into \"mo...', Array)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3498): Illuminate\\Database\\Connection->insert('insert into \"mo...', Array)
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(276): Illuminate\\Database\\Query\\Builder->insert(Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(183): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->attach(11, Array, false)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(115): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->attachNew(Array, Array, false)
#7 D:\\worksites\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(127): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->sync(Array, false)
#8 D:\\worksites\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(178): Src\\Pms\\Infrastructure\\Models\\User->assignRole(Array)
#9 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(119): Src\\Pms\\Infrastructure\\Models\\User->syncRoles(Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#13 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(61): Illuminate\\Database\\Seeder->__invoke(Array)
#22 D:\\worksites\\posmidev\\database\\seeders\\DatabaseSeeder.php(11): Illuminate\\Database\\Seeder->call('Database\\\\Seeder...')
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 23505): SQLSTATE[23505]: Unique violation: 7 ERROR:  duplicate key value violates unique constraint \"model_has_roles_pkey\"
DETAIL:  Key (role_id, model_uuid, model_type)=(11, dd6e5d39-9592-4416-bd52-2174930720fd, App\\Models\\User) already exists. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('insert into \"mo...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('insert into \"mo...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('insert into \"mo...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(540): Illuminate\\Database\\Connection->statement('insert into \"mo...', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3498): Illuminate\\Database\\Connection->insert('insert into \"mo...', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(276): Illuminate\\Database\\Query\\Builder->insert(Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(183): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->attach(11, Array, false)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Concerns\\InteractsWithPivotTable.php(115): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->attachNew(Array, Array, false)
#9 D:\\worksites\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(127): Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany->sync(Array, false)
#10 D:\\worksites\\posmidev\\vendor\\spatie\\laravel-permission\\src\\Traits\\HasRoles.php(178): Src\\Pms\\Infrastructure\\Models\\User->assignRole(Array)
#11 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(119): Src\\Pms\\Infrastructure\\Models\\User->syncRoles(Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Database\\Seeders\\SystemTenantSeeder->Database\\Seeders\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->transaction(Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#15 D:\\worksites\\posmidev\\database\\seeders\\SystemTenantSeeder.php(19): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\SystemTenantSeeder->run()
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(61): Illuminate\\Database\\Seeder->__invoke(Array)
#24 D:\\worksites\\posmidev\\database\\seeders\\DatabaseSeeder.php(11): Illuminate\\Database\\Seeder->call('Database\\\\Seeder...')
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Database\\Seeders\\DatabaseSeeder->run()
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(184): Illuminate\\Container\\Container->call(Array, Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Seeder.php(193): Illuminate\\Database\\Seeder->Illuminate\\Database\\{closure}()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(70): Illuminate\\Database\\Seeder->__invoke()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Concerns\\GuardsAttributes.php(155): Illuminate\\Database\\Console\\Seeds\\SeedCommand->Illuminate\\Database\\Console\\Seeds\\{closure}()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Seeds\\SeedCommand.php(69): Illuminate\\Database\\Eloquent\\Model::unguarded(Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Seeds\\SeedCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Seeds\\SeedCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 18:06:44] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint "roles_name_guard_name_unique" of relation "roles" does not exist (Connection: pgsql, SQL: alter table "roles" drop constraint "roles_name_guard_name_unique") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"roles_name_guard_name_unique\" of relation \"roles\" does not exist (Connection: pgsql, SQL: alter table \"roles\" drop constraint \"roles_name_guard_name_unique\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"ro...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"ro...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"ro...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"roles_name_guard_name_unique\" of relation \"roles\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('alter table \"ro...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"ro...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"ro...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"ro...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#28 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}
"} 
[2025-09-26 18:12:38] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  index "roles_tenant_id_index" does not exist (Connection: pgsql, SQL: drop index "roles_tenant_id_index") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist (Connection: pgsql, SQL: drop index \"roles_tenant_id_index\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_23_001000_alter_roles_add_tenant_id.php(21): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_23_0010...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_23_0010...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('drop index \"rol...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_23_001000_alter_roles_add_tenant_id.php(21): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_23_0010...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_23_0010...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 18:13:02] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  index "roles_tenant_id_index" does not exist (Connection: pgsql, SQL: drop index "roles_tenant_id_index") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist (Connection: pgsql, SQL: drop index \"roles_tenant_id_index\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_23_001000_alter_roles_add_tenant_id.php(21): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_23_0010...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_23_0010...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('drop index \"rol...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_23_001000_alter_roles_add_tenant_id.php(21): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_23_0010...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_23_0010...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 18:16:01] local.ERROR: SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column "tenant_id" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m
       SET tenant_id = u.tenant_id
      FROM users u
     WHERE m.model_type = 'Src\Pms\Infrastructure\Models\User'
       AND m.model_uuid = u.id::text
       AND m.tenant_id IS NULL) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m

       SET tenant_id = u.tenant_id

      FROM users u

     WHERE m.model_type = 'Src\\Pms\\Infrastructure\\Models\\User'

       AND m.model_uuid = u.id::text

       AND m.tenant_id IS NULL) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#4 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#24 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#35 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 {main}

[previous exception] [object] (PDOException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('    UPDATE mode...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 {main}
"} 
[2025-09-26 18:30:56] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  index "roles_tenant_id_index" does not exist (Connection: pgsql, SQL: drop index "roles_tenant_id_index") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist (Connection: pgsql, SQL: drop index \"roles_tenant_id_index\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(49): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  index \"roles_tenant_id_index\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('drop index \"rol...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('drop index \"rol...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('drop index \"rol...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('drop index \"rol...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(49): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 18:40:57] local.ERROR: SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column "tenant_id" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m
       SET tenant_id = u.tenant_id
      FROM users u
     WHERE m.model_type = 'Src\Pms\Infrastructure\Models\User'
       AND m.model_uuid = u.id::text
       AND m.tenant_id IS NULL) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m

       SET tenant_id = u.tenant_id

      FROM users u

     WHERE m.model_type = 'Src\\Pms\\Infrastructure\\Models\\User'

       AND m.model_uuid = u.id::text

       AND m.tenant_id IS NULL) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#4 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#24 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#35 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 {main}

[previous exception] [object] (PDOException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('    UPDATE mode...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 {main}
"} 
[2025-09-26 18:55:07] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1"} 
[2025-09-26 18:55:07] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 18:55:10] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:15] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ...s null) and "guard_name" = $3 and "name" = $4 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" is null and ("roles"."tenant_id" is null or "roles"."tenant_id" is null) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" is null and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" is null) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#17 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:32] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:39] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:41] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1"} 
[2025-09-26 18:55:41] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 18:55:44] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1"} 
[2025-09-26 18:55:44] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 18:55:45] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:49] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:52] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ...s null) and "guard_name" = $3 and "name" = $4 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" is null and ("roles"."tenant_id" is null or "roles"."tenant_id" is null) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" is null and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" is null) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#17 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:54] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:55] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 18:55:56] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 00000000-0000-0000-0000-000000000000 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 00000000-0000-0000-0000-000000000000) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"6e31e5d5-90af-4e42-b6a8-d38725f57bd1","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = 6e31e5d5-90af-4e42-b6a8-d38725f57bd1 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 00000000-0000-0000-0000-000000000000 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 00000000-0000-0000-0000-000000000000) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\CustomerController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\CustomerController->index(Object(Illuminate\\Http\\Request), '00000000-0000-0...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\CustomerController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\CustomerController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\CustomerController->index(Object(Illuminate\\Http\\Request), '00000000-0000-0...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\CustomerController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:10:26] local.ERROR: SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column "tenant_id" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m
       SET tenant_id = u.tenant_id
      FROM users u
     WHERE m.model_type = 'Src\Pms\Infrastructure\Models\User'
       AND m.model_uuid = u.id::text
       AND m.tenant_id IS NULL) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. (Connection: pgsql, SQL:     UPDATE model_has_roles m

       SET tenant_id = u.tenant_id

      FROM users u

     WHERE m.model_type = 'Src\\Pms\\Infrastructure\\Models\\User'

       AND m.model_uuid = u.id::text

       AND m.tenant_id IS NULL) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#4 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#24 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#35 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 {main}

[previous exception] [object] (PDOException(code: 42804): SQLSTATE[42804]: Datatype mismatch: 7 ERROR:  column \"tenant_id\" is of type bigint but expression is of type uuid
LINE 2:        SET tenant_id = u.tenant_id
                               ^
HINT:  You will need to rewrite or cast the expression. at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('    UPDATE mode...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('    UPDATE mode...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('    UPDATE mode...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('    UPDATE mode...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(11): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 {main}
"} 
[2025-09-26 19:29:23] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint "mhr_role_model_type_tenant_unique" of relation "model_has_roles" does not exist (Connection: pgsql, SQL: alter table "model_has_roles" drop constraint "mhr_role_model_type_tenant_unique") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhr_role_model_type_tenant_unique\" of relation \"model_has_roles\" does not exist (Connection: pgsql, SQL: alter table \"model_has_roles\" drop constraint \"mhr_role_model_type_tenant_unique\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(60): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhr_role_model_type_tenant_unique\" of relation \"model_has_roles\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('alter table \"mo...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(60): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 19:29:54] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint "mhr_role_model_type_tenant_unique" of relation "model_has_roles" does not exist (Connection: pgsql, SQL: alter table "model_has_roles" drop constraint "mhr_role_model_type_tenant_unique") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhr_role_model_type_tenant_unique\" of relation \"model_has_roles\" does not exist (Connection: pgsql, SQL: alter table \"model_has_roles\" drop constraint \"mhr_role_model_type_tenant_unique\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_roles', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(60): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhr_role_model_type_tenant_unique\" of relation \"model_has_roles\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('alter table \"mo...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_roles', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(60): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 19:35:13] local.ERROR: SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint "mhp_perm_model_type_tenant_unique" of relation "model_has_permissions" does not exist (Connection: pgsql, SQL: alter table "model_has_permissions" drop constraint "mhp_perm_model_type_tenant_unique") {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhp_perm_model_type_tenant_unique\" of relation \"model_has_permissions\" does not exist (Connection: pgsql, SQL: alter table \"model_has_permissions\" drop constraint \"mhp_perm_model_type_tenant_unique\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_permi...', Object(Closure))
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(66): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#27 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 {main}

[previous exception] [object] (PDOException(code: 42704): SQLSTATE[42704]: Undefined object: 7 ERROR:  constraint \"mhp_perm_model_type_tenant_unique\" of relation \"model_has_permissions\" does not exist at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('alter table \"mo...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('alter table \"mo...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('alter table \"mo...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Blueprint.php(110): Illuminate\\Database\\Connection->statement('alter table \"mo...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(602): Illuminate\\Database\\Schema\\Blueprint->build(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Schema\\Grammars\\PostgresGrammar))
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Schema\\Builder.php(444): Illuminate\\Database\\Schema\\Builder->build(Object(Illuminate\\Database\\Schema\\Blueprint))
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\Schema\\Builder->table('model_has_permi...', Object(Closure))
#8 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000001_add_tenant_to_spatie_pivots_and_uniques.php(66): Illuminate\\Support\\Facades\\Facade::__callStatic('table', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->down()
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'down')
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(393): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(312): Illuminate\\Database\\Migrations\\Migrator->runDown('D:\\\\worksites\\\\po...', Object(stdClass), false)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(367): Illuminate\\Database\\Migrations\\Migrator->rollbackMigrations(Array, Array, Array)
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(343): Illuminate\\Database\\Migrations\\Migrator->resetMigrations(Array, Array, false)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(66): Illuminate\\Database\\Migrations\\Migrator->reset(Array, false)
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\ResetCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\ResetCommand.php(58): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\ResetCommand->handle()
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#29 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate:reset', Array, Object(Illuminate\\Console\\OutputStyle))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(109): Illuminate\\Console\\Command->call('migrate:reset', Array)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(55): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->runReset(NULL, Array)
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#43 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#45 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#47 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#48 {main}
"} 
[2025-09-26 19:45:03] local.ERROR: SQLSTATE[42P16]: Invalid table definition: 7 ERROR:  multiple primary keys for table "model_has_roles" are not allowed (Connection: pgsql, SQL: ALTER TABLE "model_has_roles" ADD CONSTRAINT model_has_roles_role_model_type_primary PRIMARY KEY ("tenant_id","role_id","model_uuid","model_type")) {"exception":"[object] (Illuminate\\Database\\QueryException(code: 42P16): SQLSTATE[42P16]: Invalid table definition: 7 ERROR:  multiple primary keys for table \"model_has_roles\" are not allowed (Connection: pgsql, SQL: ALTER TABLE \"model_has_roles\" ADD CONSTRAINT model_has_roles_role_model_type_primary PRIMARY KEY (\"tenant_id\",\"role_id\",\"model_uuid\",\"model_type\")) at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('ALTER TABLE \"mo...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('ALTER TABLE \"mo...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('ALTER TABLE \"mo...')
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#4 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(15): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#24 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#35 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#38 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 {main}

[previous exception] [object] (PDOException(code: 42P16): SQLSTATE[42P16]: Invalid table definition: 7 ERROR:  multiple primary keys for table \"model_has_roles\" are not allowed at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:587)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(587): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('ALTER TABLE \"mo...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('ALTER TABLE \"mo...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(576): Illuminate\\Database\\Connection->run('ALTER TABLE \"mo...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\DatabaseManager.php(509): Illuminate\\Database\\Connection->statement('ALTER TABLE \"mo...')
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Facades\\Facade.php(355): Illuminate\\Database\\DatabaseManager->__call('statement', Array)
#6 D:\\worksites\\posmidev\\database\\migrations\\2025_09_25_000002_backfill_tenant_ids_in_spatie_pivots.php(15): Illuminate\\Support\\Facades\\Facade::__callStatic('statement', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(501): Illuminate\\Database\\Migrations\\Migration@anonymous->up()
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(418): Illuminate\\Database\\Migrations\\Migrator->runMethod(Object(Illuminate\\Database\\PostgresConnection), Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Concerns\\ManagesTransactions.php(30): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}(Object(Illuminate\\Database\\PostgresConnection))
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(426): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->runMigration(Object(Illuminate\\Database\\Migrations\\Migration@anonymous), 'up')
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\View\\Components\\Task.php(37): Illuminate\\Database\\Migrations\\Migrator->Illuminate\\Database\\Migrations\\{closure}()
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(783): Illuminate\\Console\\View\\Components\\Task->render('2025_09_25_0000...', Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(224): Illuminate\\Database\\Migrations\\Migrator->write('Illuminate\\\\Cons...', '2025_09_25_0000...', Object(Closure))
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(189): Illuminate\\Database\\Migrations\\Migrator->runUp('D:\\\\worksites\\\\po...', 1, false)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(132): Illuminate\\Database\\Migrations\\Migrator->runPending(Array, Array)
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(90): Illuminate\\Database\\Migrations\\Migrator->run(Array, Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Migrations\\Migrator.php(641): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->Illuminate\\Database\\Console\\Migrations\\{closure}()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\MigrateCommand.php(83): Illuminate\\Database\\Migrations\\Migrator->usingConnection(NULL, Object(Closure))
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\MigrateCommand->handle()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#26 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(67): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Concerns\\CallsCommands.php(28): Illuminate\\Console\\Command->runCommand('migrate', Array, Object(Illuminate\\Console\\OutputStyle))
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Console\\Migrations\\RefreshCommand.php(61): Illuminate\\Console\\Command->call('migrate', Array)
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(36): Illuminate\\Database\\Console\\Migrations\\RefreshCommand->handle()
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Util.php(41): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\BoundMethod.php(35): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Container\\Container.php(662): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(211): Illuminate\\Container\\Container->call(Array)
#37 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Command\\Command.php(326): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#39 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(1096): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#40 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(324): Symfony\\Component\\Console\\Application->doRunCommand(Object(Illuminate\\Database\\Console\\Migrations\\RefreshCommand), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#41 D:\\worksites\\posmidev\\vendor\\symfony\\console\\Application.php(175): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(201): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#43 D:\\worksites\\posmidev\\artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#44 {main}
"} 
[2025-09-26 19:56:39] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382"} 
[2025-09-26 19:56:39] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 19:56:43] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:56:46] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:56:50] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382"} 
[2025-09-26 19:56:50] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 19:56:53] local.INFO: Dashboard#index start {"tenantId":"11111111-1111-1111-1111-111111111111","userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382"} 
[2025-09-26 19:56:53] local.ERROR: Dashboard#index error {"tenantId":"11111111-1111-1111-1111-111111111111","message":"SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\")"} 
[2025-09-26 19:56:55] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:56:58] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\ProductController.php(20): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\ProductController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\ProductController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:57:03] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ...s null) and "guard_name" = $3 and "name" = $4 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" is null and ("roles"."tenant_id" is null or "roles"."tenant_id" is null) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" is null and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" is null) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...s null) and \"guard_name\" = $3 and \"name\" = $4 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'tenants.view', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('tenants.view', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(354): Illuminate\\Auth\\Access\\Gate->inspect('tenants.view', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Collections\\Traits\\EnumeratesValues.php(277): Illuminate\\Auth\\Access\\Gate->Illuminate\\Auth\\Access\\{closure}('tenants.view', 0)
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(353): Illuminate\\Support\\Collection->every(Object(Closure))
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\Authorizable.php(18): Illuminate\\Auth\\Access\\Gate->check('tenants.view', Array)
#17 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\TenantController.php(34): Illuminate\\Foundation\\Auth\\User->can('tenants.view')
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\TenantController->index(Object(Illuminate\\Http\\Request))
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\TenantController), 'index')
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:57:08] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\RoleController.php(18): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\RoleController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\RoleController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:57:09] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 11111111-1111-1111-1111-111111111111 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 11111111-1111-1111-1111-111111111111) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 11111111-1111-1111-1111-111111111111) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\PermissionController.php(15): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\PermissionController->index(Object(Illuminate\\Http\\Request), '11111111-1111-1...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\PermissionController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
[2025-09-26 19:57:10] local.ERROR: SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference "tenant_id" is ambiguous
LINE 1: ..." = $4) and "guard_name" = $5 and "name" = $6 and "tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from "roles" inner join "model_has_roles" on "roles"."id" = "model_has_roles"."role_id" where "model_has_roles"."model_uuid" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and "model_has_roles"."model_type" = App\Models\User and "model_has_roles"."tenant_id" = 00000000-0000-0000-0000-000000000000 and ("roles"."tenant_id" is null or "roles"."tenant_id" = 00000000-0000-0000-0000-000000000000) and "guard_name" = api and "name" = Super Admin and "tenant_id" = 11111111-1111-1111-1111-111111111111) as "exists") {"userId":"f626d914-d0eb-4dcd-8545-2edc5d8f3382","exception":"[object] (Illuminate\\Database\\QueryException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ (Connection: pgsql, SQL: select exists(select * from \"roles\" inner join \"model_has_roles\" on \"roles\".\"id\" = \"model_has_roles\".\"role_id\" where \"model_has_roles\".\"model_uuid\" = f626d914-d0eb-4dcd-8545-2edc5d8f3382 and \"model_has_roles\".\"model_type\" = App\\Models\\User and \"model_has_roles\".\"tenant_id\" = 00000000-0000-0000-0000-000000000000 and (\"roles\".\"tenant_id\" is null or \"roles\".\"tenant_id\" = 00000000-0000-0000-0000-000000000000) and \"guard_name\" = api and \"name\" = Super Admin and \"tenant_id\" = 11111111-1111-1111-1111-111111111111) as \"exists\") at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:829)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#7 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#9 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#13 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\CustomerController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\CustomerController->index(Object(Illuminate\\Http\\Request), '00000000-0000-0...')
#15 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\CustomerController), 'index')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#56 {main}

[previous exception] [object] (PDOException(code: 42702): SQLSTATE[42702]: Ambiguous column: 7 ERROR:  column reference \"tenant_id\" is ambiguous
LINE 1: ...\" = $4) and \"guard_name\" = $5 and \"name\" = $6 and \"tenant_id...
                                                             ^ at D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:428)
[stacktrace]
#0 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(428): PDOStatement->execute()
#1 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(816): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select exists(s...', Array)
#2 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(783): Illuminate\\Database\\Connection->runQueryCallback('select exists(s...', Array, Object(Closure))
#3 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(414): Illuminate\\Database\\Connection->run('select exists(s...', Array, Object(Closure))
#4 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3255): Illuminate\\Database\\Connection->select('select exists(s...', Array, true)
#5 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(1982): Illuminate\\Database\\Query\\Builder->exists()
#6 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->__call('exists', Array)
#7 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Support\\Traits\\ForwardsCalls.php(52): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#8 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Relations\\Relation.php(517): Illuminate\\Database\\Eloquent\\Relations\\Relation->forwardDecoratedCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'exists', Array)
#9 D:\\worksites\\posmidev\\app\\Providers\\AuthServiceProvider.php(45): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('exists', Array)
#10 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(566): App\\Providers\\AuthServiceProvider->App\\Providers\\{closure}(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#11 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(438): Illuminate\\Auth\\Access\\Gate->callBeforeCallbacks(Object(Src\\Pms\\Infrastructure\\Models\\User), 'viewAny', Array)
#12 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(406): Illuminate\\Auth\\Access\\Gate->raw('viewAny', Array)
#13 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Access\\Gate.php(393): Illuminate\\Auth\\Access\\Gate->inspect('viewAny', Array)
#14 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests.php(23): Illuminate\\Auth\\Access\\Gate->authorize('viewAny', Array)
#15 D:\\worksites\\posmidev\\app\\Http\\Controllers\\Api\\CustomerController.php(17): App\\Http\\Controllers\\Controller->authorize('viewAny', Array)
#16 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(54): App\\Http\\Controllers\\Api\\CustomerController->index(Object(Illuminate\\Http\\Request), '00000000-0000-0...')
#17 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(43): Illuminate\\Routing\\Controller->callAction('index', Array)
#18 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(259): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\CustomerController), 'index')
#19 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(205): Illuminate\\Routing\\Route->runController()
#20 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(806): Illuminate\\Routing\\Route->run()
#21 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 D:\\worksites\\posmidev\\app\\Http\\Middleware\\SetPermissionsTeamFromTenant.php(17): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): App\\Http\\Middleware\\SetPermissionsTeamFromTenant->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(50): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(159): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(125): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequest(Object(Illuminate\\Http\\Request), Object(Closure), Array)
#28 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php(87): Illuminate\\Routing\\Middleware\\ThrottleRequests->handleRequestUsingNamedLimiter(Object(Illuminate\\Http\\Request), Object(Closure), 'api', Object(Closure))
#29 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#30 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'api')
#32 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(805): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(784): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(748): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(737): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(200): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(144): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(99): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(183): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(119): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(175): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#55 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(144): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#56 D:\\worksites\\posmidev\\public\\index.php(27): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#57 D:\\worksites\\posmidev\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\resources\\server.php(16): require_once('D:\\\\worksites\\\\po...')
#58 {main}
"} 
